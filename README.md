# RabbitMQ
使用C++仿造 RabbitMQ 实现消息队列

# 开发环境
- Linux（ubuntu22.04）
- g++/gdb
- CMake

# 技术选型
- 序列化框架：Protobuf
- 网络通信：自定义应用层协议+muduo库
- 源数据信息数据库：SQLite3
- 单元测试框架：Gtest

## 线程池工作思想
- 用户传入要执行的函数，以及需要处理的数据（函数的参数），由线程池中的工作线程来执行函数完成任务

实现：
- 管理的成员
- - 任务池：用vector维护的一个函数任务池
- - 互斥锁 & 条件变量：实现同步互斥
- - 一定数量的工作线程：用于不断从任务池取出任务执行任务
- - 结束运行标志：以便于控制线程池的结束
- 管理的操作：
- - 入队任务：入队一个函数和参数
- - 停止运行：终止线程池


## 目录结构
- test/demo：编写一些功能用例时所在的目录
- mqcommon：公共模块代码（线程池、数据库访问、文件访问、日志打印、pd相关，以及其他的一些琐碎功能模块代码
- mqclient：客户端模块代码
- mqserver：服务器模块代码
- mqtest：单元测试
- third：用到的第三方库存放目录

## 核心模块实现
### 1、日志打印工具
>为了便于编写项目中能够快速定位程序的错误位置

### 2、实用Helper工具
>Helper工具类中要完成的是项目中需要的一些辅助零碎的功能代码实现，其中包括文件的基础操作，字符串的额外操作等在项目中用到的零碎功能（在demo样例中有注释实现）
#### 2.1、文件基础操作
- 文件是否存在判断
- 文件大小获取
- 文件读写
- 文件创建/删除
- 目录创建/删除

#### 2.2、sqlite基础操作类
- 判断库是否存在
- 创建并打开库/关闭库/删除库
- 启动/提交/回滚事务
- 执行语句

#### 2.3、字符串操作类
- 提供字符串分割功能

#### 2.4、UUID生成器类
>UUID(Universally Unique Identifier)，也叫**通用唯一识别码**，通常由32位16进制数字字符组成
UUID的标准形式包含32个16进制数字，以连字号分为5段，形式为8-4-4-4-12的32个字符，如：550e840-e29b-41d4-a715-446655440000

在这里，uuid生成，我们采用生成8个随机数字（0～255，一个字节8位），加上8字节序号，共16字节数组生成32位16进制字符（4位）的组合形式来确保全局唯一的同时能够根据序号来分辨数据
- 随机数的生成 `random_device`




